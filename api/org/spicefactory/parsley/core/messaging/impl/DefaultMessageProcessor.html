<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><!-- saved from url=(0014)about:internet --><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link rel="stylesheet" href="../../../../../../style.css" type="text/css" media="screen"><link rel="stylesheet" href="../../../../../../print.css" type="text/css" media="print"><link rel="stylesheet" href="../../../../../../override.css" type="text/css"><meta name="keywords" content="DefaultMessageProcessor,org.spicefactory.parsley.core.messaging.impl.DefaultMessageProcessor,cache,defaultReceiverScope,empty,instance,message,messageType,selector,senderContext,state,type,unhandledError,addCommandObserver,addErrorHandler,addErrorHandler,addParent,addReceiver,addTarget,cancel,checkNewCollection,disable,dispatchMessage,dispatchMessage,fetchReceivers,getErrorHandlers,getLogString,getReceivers,getReceiversBySelectorType,getReceiversBySelectorValue,getSelectionCache,getSelectorValue,init,observeCommand,proceed,release,removeCommandObserver,removeErrorHandler,removeReceiver,removeTarget,resume,rewind,sendResponse,suspend"><title>org.spicefactory.parsley.core.messaging.impl.DefaultMessageProcessor</title></head><body><script language="javascript" type="text/javascript" src="../../../../../../asdoc.js"></script><script language="javascript" type="text/javascript" src="../../../../../../help.js"></script><script language="javascript" type="text/javascript" src="../../../../../../cookies.js"></script><script language="javascript" type="text/javascript"><!--
				asdocTitle = 'DefaultMessageProcessor - Parsley + Spicelib API';
				var baseRef = '../../../../../../';
				window.onload = configPage;
			--></script>
<script type="text/javascript">
			scrollToNameAnchor();
		</script><table class="titleTable" cellpadding="0" cellspacing="0" id="titleTable" style="display:none"><tr><td class="titleTableTitle" align="left">Parsley + Spicelib API</td><td class="titleTableTopNav" align="right"><a href="../../../../../../package-summary.html" onclick="loadClassListFrame('../../../../../../all-classes.html')">All Packages</a>&nbsp;|&nbsp;<a href="../../../../../../class-summary.html" onclick="loadClassListFrame('../../../../../../all-classes.html')">All Classes</a>&nbsp;|&nbsp;<a href="../../../../../../all-index-A.html" onclick="loadClassListFrame('../../../../../../index-list.html')">Index</a>&nbsp;|&nbsp;<a id="framesLink1" href="../../../../../../index.html?org/spicefactory/parsley/core/messaging/impl/DefaultMessageProcessor.html&amp;org/spicefactory/parsley/core/messaging/impl/class-list.html">Frames</a><a id="noFramesLink1" style="display:none" href="" onclick="parent.location=document.location"> No Frames </a></td><td class="titleTableLogo" align="right" rowspan="3"><img src="../../../../../../images/logo.jpg" class="logoImage" alt=" Adobe Logo " title=" Adobe Logo "></td></tr><tr class="titleTableRow2"><td class="titleTableSubTitle" id="subTitle" align="left">DefaultMessageProcessor</td><td class="titleTableSubNav" id="subNav" align="right"><a href="#propertySummary">Properties</a>&nbsp;| <a href="#methodSummary">Methods</a></td></tr><tr class="titleTableRow3"><td colspan="3">&nbsp;</td></tr></table><script language="javascript" type="text/javascript" xml:space="preserve">
				<!--
				
					if (!isEclipse() || window.name != ECLIPSE_FRAME_NAME) {titleBar_setSubTitle("DefaultMessageProcessor"); titleBar_setSubNav(false,true,false,false,false,false,false,false,true,false,false	,false,false,false,false,false);}	
				-->
			</script><div xmlns:fn="http://www.w3.org/2005/xpath-functions" class="MainContent"><table class="classHeaderTable" cellpadding="0" cellspacing="0"><tr><td class="classHeaderTableLabel">Package</td><td><a href="package-detail.html" onclick="javascript:loadClassListFrame('class-list.html')">org.spicefactory.parsley.core.messaging.impl</a></td></tr><tr><td class="classHeaderTableLabel">Class</td><td class="classSignature">public  class  DefaultMessageProcessor</td></tr><tr><td class="classHeaderTableLabel">Inheritance</td><td class="inheritanceList">DefaultMessageProcessor  <img src="../../../../../../images/inherit-arrow.gif" title="Inheritance" alt="Inheritance" class="inheritArrow"> Object</td></tr><tr><td class="classHeaderTableLabel">Implements</td><td> <a href="../../../../../../org/spicefactory/parsley/core/messaging/MessageProcessor.html">MessageProcessor</a></td></tr><tr><td class="classHeaderTableLabel">Subclasses</td><td> <a href="../../../../../../org/spicefactory/parsley/core/command/impl/DefaultCommandObserverProcessor.html">DefaultCommandObserverProcessor</a></td></tr></table><p></p><p></p><p></p>
 Default implementation of the MessageProcessor interface.
 
 <p></p><br/><hr></div><a name="propertySummary"></a><div class="summarySection"><div class="summaryTableTitle">Public Properties</div><table cellspacing="0" cellpadding="3" class="summaryTable " id="summaryTableProperty"><tr><th>&nbsp;</th><th colspan="2">Property</th><th class="summaryTableOwnerCol">Defined By</th></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#message" class="signatureLink">message</a> : <a href="../../../../../../org/spicefactory/parsley/core/messaging/Message.html">Message</a><div class="summaryTableDescription">[read-only] 
	 
	 The message instance.</div></td><td class="summaryTableOwnerCol">DefaultMessageProcessor</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#state" class="signatureLink">state</a> : <a href="../../../../../../org/spicefactory/parsley/core/messaging/MessageState.html">MessageState</a><div class="summaryTableDescription">[read-only] 
	 
	 The current state of this processor.</div></td><td class="summaryTableOwnerCol">DefaultMessageProcessor</td></tr></table></div><a name="protectedPropertySummary"></a><div class="summarySection"><div class="summaryTableTitle">Protected Properties</div><table cellspacing="0" cellpadding="3" class="summaryTable " id="summaryTableProtectedProperty"><tr><th>&nbsp;</th><th colspan="2">Property</th><th class="summaryTableOwnerCol">Defined By</th></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#cache" class="signatureLink">cache</a> : <a href="../../../../../../org/spicefactory/parsley/core/messaging/MessageReceiverCache.html">MessageReceiverCache</a><div class="summaryTableDescription">[read-only] 
	 The receiver cache for the message type this processor handles
	 </div></td><td class="summaryTableOwnerCol">DefaultMessageProcessor</td></tr></table></div><a name="methodSummary"></a><div class="summarySection"><div class="summaryTableTitle">Public Methods </div><table cellspacing="0" cellpadding="3" class="summaryTable " id="summaryTableMethod"><tr><th>&nbsp;</th><th colspan="2">Method</th><th class="summaryTableOwnerCol">Defined By</th></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#DefaultMessageProcessor()" class="signatureLink">DefaultMessageProcessor</a>(message:<a href="../../../../../../org/spicefactory/parsley/core/messaging/Message.html">Message</a>, cache:<a href="../../../../../../org/spicefactory/parsley/core/messaging/MessageReceiverCache.html">MessageReceiverCache</a>, settings:<a href="../../../../../../org/spicefactory/parsley/core/messaging/MessageSettings.html">MessageSettings</a>, receiverHandler:Function = null)</div><div class="summaryTableDescription">
	 Creates a new instance.</div></td><td class="summaryTableOwnerCol">DefaultMessageProcessor</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#cancel()" class="signatureLink">cancel</a>():void</div><div class="summaryTableDescription">
	 
	 Cancels processing of this message.</div></td><td class="summaryTableOwnerCol">DefaultMessageProcessor</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#proceed()" class="signatureLink">proceed</a>():void</div><div class="summaryTableDescription"></div></td><td class="summaryTableOwnerCol">DefaultMessageProcessor</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#resume()" class="signatureLink">resume</a>():void</div><div class="summaryTableDescription">
	 
	 Resumes with message processing, invoking the next receiver.</div></td><td class="summaryTableOwnerCol">DefaultMessageProcessor</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#rewind()" class="signatureLink">rewind</a>():void</div><div class="summaryTableDescription">
	 
	 Rewinds the processor so it will start with the first interceptor or handler again 
	 the next time the proceed method gets invoked.</div></td><td class="summaryTableOwnerCol">DefaultMessageProcessor</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#sendResponse()" class="signatureLink">sendResponse</a>(msg:Object, selector:* = null):void</div><div class="summaryTableDescription">
	 
	 Sends the response to the Context the message originated from.</div></td><td class="summaryTableOwnerCol">DefaultMessageProcessor</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#suspend()" class="signatureLink">suspend</a>():void</div><div class="summaryTableDescription">
	 
	 Suspends processing of the message.</div></td><td class="summaryTableOwnerCol">DefaultMessageProcessor</td></tr></table></div><a name="protectedMethodSummary"></a><div class="summarySection"><div class="summaryTableTitle">Protected Methods </div><table cellspacing="0" cellpadding="3" class="summaryTable " id="summaryTableProtectedMethod"><tr><th>&nbsp;</th><th colspan="2">Method</th><th class="summaryTableOwnerCol">Defined By</th></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#fetchReceivers()" class="signatureLink">fetchReceivers</a>():Array</div><div class="summaryTableDescription">
	 Fetches the receivers for the message type and receiver kind this processor handles.</div></td><td class="summaryTableOwnerCol">DefaultMessageProcessor</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#getLogString()" class="signatureLink">getLogString</a>(action:String, receiverCount:int):String</div><div class="summaryTableDescription">
	 Return a string that can be used to describe the message handled by this processor.</div></td><td class="summaryTableOwnerCol">DefaultMessageProcessor</td></tr></table></div><script language="javascript" type="text/javascript"><!--
										showHideInherited();
										--></script><div class="MainContent"><div class="detailSectionHeader">Property Detail</div><a name="propertyDetail"></a><a name="cache"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">cache</td><td class="detailHeaderType">property</td></tr></table><div class="detailBody"><code>cache:<a href="../../../../../../org/spicefactory/parsley/core/messaging/MessageReceiverCache.html">MessageReceiverCache</a></code>&nbsp;&nbsp;[read-only] <p></p><p></p><p>
	 The receiver cache for the message type this processor handles
	 </p><br/><span class="label"> Implementation </span><br/><code>&nbsp;&nbsp;&nbsp;&nbsp;protected function get cache():<a href="../../../../../../org/spicefactory/parsley/core/messaging/MessageReceiverCache.html">MessageReceiverCache</a></code><br/></div><a name="propertyDetail"></a><a name="message"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">message</td><td class="detailHeaderType">property</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code>message:<a href="../../../../../../org/spicefactory/parsley/core/messaging/Message.html">Message</a></code>&nbsp;&nbsp;[read-only] <p></p><p></p><p>
	 
	 The message instance.
	 </p><br/><span class="label"> Implementation </span><br/><code>&nbsp;&nbsp;&nbsp;&nbsp;public function get message():<a href="../../../../../../org/spicefactory/parsley/core/messaging/Message.html">Message</a></code><br/></div><a name="propertyDetail"></a><a name="state"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">state</td><td class="detailHeaderType">property</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code>state:<a href="../../../../../../org/spicefactory/parsley/core/messaging/MessageState.html">MessageState</a></code>&nbsp;&nbsp;[read-only] <p></p><p></p><p>
	 
	 The current state of this processor.
	 </p><br/><span class="label"> Implementation </span><br/><code>&nbsp;&nbsp;&nbsp;&nbsp;public function get state():<a href="../../../../../../org/spicefactory/parsley/core/messaging/MessageState.html">MessageState</a></code><br/></div><a name="constructorDetail"></a><div class="detailSectionHeader">Constructor Detail</div><a name="DefaultMessageProcessor()"></a><a name="DefaultMessageProcessor(org.spicefactory.parsley.core.messaging.Message,org.spicefactory.parsley.core.messaging.MessageReceiverCache,org.spicefactory.parsley.core.messaging.MessageSettings,Function)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">DefaultMessageProcessor</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">Constructor</td></tr></table><div class="detailBody"><code>public function DefaultMessageProcessor(message:<a href="../../../../../../org/spicefactory/parsley/core/messaging/Message.html">Message</a>, cache:<a href="../../../../../../org/spicefactory/parsley/core/messaging/MessageReceiverCache.html">MessageReceiverCache</a>, settings:<a href="../../../../../../org/spicefactory/parsley/core/messaging/MessageSettings.html">MessageSettings</a>, receiverHandler:Function = null)</code><p></p><p>
	 Creates a new instance.
	 
	 </p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">message</span>:<a href="../../../../../../org/spicefactory/parsley/core/messaging/Message.html">Message</a></code> &mdash; the message and its settings
	 </td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">cache</span>:<a href="../../../../../../org/spicefactory/parsley/core/messaging/MessageReceiverCache.html">MessageReceiverCache</a></code> &mdash; the receiver selection cache corresponding to the messageType
	 </td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">settings</span>:<a href="../../../../../../org/spicefactory/parsley/core/messaging/MessageSettings.html">MessageSettings</a></code> &mdash; the settings for this processor
	 </td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">receiverHandler</span>:Function</code> (default = <code>null</code>)<code></code> &mdash; the function to invoke for each processed receiver
	 </td></tr></table></div><a name="methodDetail"></a><div class="detailSectionHeader">Method Detail</div><a name="cancel()"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">cancel</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td></tr></table><div class="detailBody"><code> public function cancel():void</code><p></p><p></p><p>
	 
	 Cancels processing of this message.
	 No further handlers will be invoked and all resources associated with this message are disposed.
	 </p></div><a name="fetchReceivers()"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">fetchReceivers</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> protected function fetchReceivers():Array</code><p></p><p></p><p>
	 Fetches the receivers for the message type and receiver kind this processor handles.
	 
	 </p><p></p><span class="label">Returns</span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20"></td><td><code>Array</code> &mdash; the receivers for the message type and receiver kind this processor handles
	 </td></tr></table></div><a name="getLogString()"></a><a name="getLogString(String,int)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">getLogString</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> protected function getLogString(action:String, receiverCount:int):String</code><p></p><p></p><p>
	 Return a string that can be used to describe the message handled by this processor.
	 
	 </p><p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">action</span>:String</code> &mdash; a string describing the action that will be logged, like 'Dispatch', 'Resume' or 'Cancel'
	 </td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">receiverCount</span>:int</code> &mdash; the number of remaining receivers this processor will handle
	 </td></tr></table></p><p></p><span class="label">Returns</span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20"></td><td><code>String</code> &mdash; a string that can be used to describe the message handled by this processor
	 </td></tr></table></div><a name="proceed()"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">proceed</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function proceed():void</code><p></p></div><a name="resume()"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">resume</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function resume():void</code><p></p><p></p><p>
	 
	 Resumes with message processing, invoking the next receiver.
	 May only be called after <code>suspend</code> has been called on this processor
	 </p></div><a name="rewind()"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">rewind</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function rewind():void</code><p></p><p></p><p>
	 
	 Rewinds the processor so it will start with the first interceptor or handler again 
	 the next time the proceed method gets invoked. Calling this method also causes
	 all receivers to be refetched from the registry and thus takes into account
	 any new receivers registered after processing this message started.
	 </p></div><a name="sendResponse()"></a><a name="sendResponse(Object,any)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">sendResponse</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function sendResponse(msg:Object, selector:* = null):void</code><p></p><p></p><p>
	 
	 Sends the response to the Context the message originated from.
	 It does not send this message to the sending object instance only, as this would not be very
	 helpful in most cases. Essentially this method is just a short cut for calling:
	 <code><pre>processor.senderContext.scopeManager.dispatchMessage(new MyMessage());</pre></code>
	 Note that the response is dispatched through all scopes of the Context of the sending instance,
	 including the global scope. Therefor for point-to-point messaging the receiver of the response
	 should listen to the local scope (or a custom scope) instead.
	 
	 </p><p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">msg</span>:Object</code> &mdash; the message to dispatch
	 </td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">selector</span>:*</code> (default = <code>null</code>)<code></code> &mdash; the selector to use if it cannot be determined from the message instance itself
	 </td></tr></table></p></div><a name="suspend()"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">suspend</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function suspend():void</code><p></p><p></p><p>
	 
	 Suspends processing of the message. No further handlers will be invoked
	 before <code>resume</code> gets called on this processor.
	 To permanently discard this message call <code>cancel</code> to free
	 all resources associated with this message.
	 </p></div><br/><br/><hr><br/><p></p><center class="copyright"><footer></footer><br/>Mon Feb 6 2012, 01:04 AM +01:00  </center></div></body></html><!--<br/>Mon Feb 6 2012, 01:04 AM +01:00  -->